import{r as p,y as j,f as L,E as M,z as S,A,a as F,b as N,d as R,B as T,e as U,l as D,m as P,o as q,n as H,w as t,p as e,q as s,v as _}from"./index.e60cff6b.js";/* empty css                */import{u as f,w as G}from"./xlsx.1b6e496d.js";/* empty css                  */import{h as J}from"./http.5113bb0c.js";/* empty css                        */const K=""+new URL("../\u997C\u72B6\u56FE.jpg",import.meta.url).href,O=""+new URL("../\u67F1\u72B6\u56FE.png",import.meta.url).href,Q=_("br",null,null,-1),W=_("br",null,null,-1),X=_("img",{id:"pieChart",src:K,alt:"\u997C\u72B6\u56FE",style:{width:"100%"}},null,-1),Y=_("img",{id:"barChart",src:O,alt:"\u67F1\u72B6\u56FE",style:{width:"100%"}},null,-1),ne={__name:"chart",setup(Z){const d=p([]),i=p(""),g=p(0),m=p(1),h=p(10),c=async()=>{const l=await J.get("/searchfarmland",{params:{page:m.value,limit:h.value,name:i.value}});l.data.code===0&&(d.value=l.data.data,g.value=l.data.total)},y=()=>{const l=d.value.map(a=>({ID:a.id,\u540D\u79F0:a.name,\u533A\u5212\u7801:a.areaCode,\u53BF\u7EA7:a.county,\u5730\u7EA7:a.city,\u7701\u7EA7:a.province,\u5761\u5EA6:a.slope,\u9178\u78B1\u5EA6:a.ph,\u6709\u673A\u8D28:a.organicMatter,\u5730\u529B:a.fertility,\u8015\u5730\u9762\u79EF:a.farmlandArea})),r=f.json_to_sheet(l),o=f.book_new();f.book_append_sheet(o,r,"Farmland"),G(o,"farmland.xlsx")},C=()=>{const l=document.getElementById("pieChart").src,r=document.getElementById("barChart").src,o=document.createElement("a");o.href=l,o.download="\u997C\u72B6\u56FE.jpg",o.click(),o.href=r,o.download="\u67F1\u72B6\u56FE.png",o.click()},v=l=>{h.value=l,c()},w=l=>{m.value=l,c()};return j(()=>{c()}),(l,r)=>{const o=L,a=M,u=S,b=A,E=F,n=N,k=R,x=T,z=U,B=D,I=P;return q(),H(I,null,{default:t(()=>[e(B,null,{default:t(()=>[e(E,null,{default:t(()=>[e(b,null,{default:t(()=>[e(u,{span:12},{default:t(()=>[s(" \u641C\u7D22\uFF1A "),e(o,{style:{width:"300px"},modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=V=>i.value=V),placeholder:"\u8BF7\u8F93\u5165\u884C\u653F\u533A\u57DF\u540D\u79F0",clearable:""},null,8,["modelValue"]),s(" \u2003 "),e(a,{type:"primary",onClick:c},{default:t(()=>[s("\u641C\u7D22")]),_:1})]),_:1}),e(u,{span:12,style:{"text-align":"right"}},{default:t(()=>[e(a,{type:"primary",onClick:y},{default:t(()=>[s("\u5BFC\u51FAExcel")]),_:1}),e(a,{type:"primary",onClick:C},{default:t(()=>[s("\u5BFC\u51FA\u56FE\u8868")]),_:1})]),_:1})]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(k,{data:d.value,style:{width:"100%"}},{default:t(()=>[e(n,{prop:"id",label:"ID"}),e(n,{prop:"name",label:"\u540D\u79F0"}),e(n,{prop:"areaCode",label:"\u533A\u5212\u7801"}),e(n,{prop:"county",label:"\u53BF\u7EA7"}),e(n,{prop:"city",label:"\u5730\u7EA7"}),e(n,{prop:"province",label:"\u7701\u7EA7"}),e(n,{prop:"slope",label:"\u5761\u5EA6"}),e(n,{prop:"ph",label:"\u9178\u78B1\u5EA6"}),e(n,{prop:"organicMatter",label:"\u6709\u673A\u8D28"}),e(n,{prop:"fertility",label:"\u5730\u529B"}),e(n,{prop:"farmlandArea",label:"\u8015\u5730\u9762\u79EF"})]),_:1},8,["data"]),e(x,{onSizeChange:v,onCurrentChange:w,"current-page":m.value,"page-sizes":[5,10,20,50],"page-size":h.value,layout:"total, sizes, prev, pager, next, jumper",total:g.value},null,8,["current-page","page-size","total"]),Q,s(),W,e(b,{gutter:20},{default:t(()=>[e(u,{span:12},{default:t(()=>[X]),_:1}),e(u,{span:12},{default:t(()=>[Y]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{ne as default};
